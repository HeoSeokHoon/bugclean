<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.winter.app.humanResource.HumanResourceDAO">

    <select id="getAskList" resultType="TempMemberVO">
        SELECT * FROM EMP_TEMP
    </select>

    <select id="getMemberList" resultType="Map">
        SELECT EMPLOYEE_NUM, NAME, NICKNAME, PHONE, ADDRESS,
        DEPARTMENT.DEP_NAME AS DEP_NAME,
        POSITION.POS_NAME AS POS_NAME,
        JOIN_DATE
        FROM EMPLOYEE
        LEFT JOIN DEPARTMENT ON EMPLOYEE.DEP_CODE = DEPARTMENT.DEP_CODE
        LEFT JOIN POSITION ON EMPLOYEE.POS_CODE = POSITION.POS_CODE
    </select>

    <select id="getVacationList" resultType="Map">
        SELECT EMPLOYEE_NUM, NAME, LEVEL_DATE, VAC_FULL, VAC_USED, (VAC_FULL-VAC_USED), DEP_NAME
        FROM EMPLOYEE
        LEFT JOIN DEPARTMENT USING (DEP_CODE)
        LEFT JOIN VACATION USING (EMPLOYEE_NUM)
        WHERE VAC_YEAR = EXTRACT(YEAR FROM SYSDATE)
    </select>

</mapper>